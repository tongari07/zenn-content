---
title: "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å…¬é–‹éµã‚’ã‚µãƒ¼ãƒãƒ¼ã§å–å¾—ã—ã¦sshæ¥ç¶šã™ã‚‹æ–¹æ³•"
emoji: "ğŸŒŠ"
type: "tech"
topics: []
published: false
---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ä½œæ¥­

### å…¬é–‹éµã‚’ä½œæˆ

```
cd ~/.ssh
ssh-keygen -t rsa -b 4096 -C "<githubã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹>"
cat id_rsa.pub
```

- ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚ºã¨ã‹ã¯ç„¡ã—ã§OK
- éµã®åç§°ã¯è‡ªç”±ã«å¤‰ãˆã¦OK
- éµã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã®ãƒ†ã‚­ã‚¹ãƒˆå…¨ã¦ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹(===ã®éƒ¨åˆ†ã¨ã‹è¶³ã‚Šã¦ãªã„ã¨å¤±æ•—ã™ã‚‹)

è¡¨ç¤ºã•ã‚ŒãŸå…¬é–‹éµãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

### githubã«sshã‚­ãƒ¼ã‚’ç™»éŒ²

1. githubã‚’é–‹ã
2. setting > SSH and GPG keys
3. New SSH key
4. ã‚³ãƒ”ãƒ¼ã—ãŸã‚­ãƒ¼ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ï¼ˆåå‰ã¯å¥½ããªã‚‚ã®ã‚’å…¥åŠ›ï¼‰
5. Add SSH key

## ã‚µãƒ¼ãƒãƒ¼å´ã®ä½œæ¥­

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå…¬é–‹éµã‚’å–å¾—

```
cd ~/.ssh
curl -Ss https://github.com/<githubã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå>.keys >> ~/.ssh/authorized_keys
```

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰æ¥ç¶š

```
ssh -i ~/.ssh/<ç§˜å¯†éµ> ec2-user@new.touchpay.biz
```

### ~/.ssh/configã«è¨­å®šã™ã‚‹ã¨ä¾¿åˆ©

```
vi ~/.ssh/config
```

ä»¥ä¸‹ã‚’è¨˜è¼‰ã™ã‚‹

```
Host <é©å½“ãªæ¥ç¶šãƒ›ã‚¹ãƒˆå>
    HostName new.touchpay.biz
    User ec2-user
    IdentityFile ~/.ssh/<ç§˜å¯†éµ>
```

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§æ¥ç¶šãŒå¯èƒ½ã«ãªã‚‹

```
ssh <é©å½“ãªæ¥ç¶šãƒ›ã‚¹ãƒˆå>
```

